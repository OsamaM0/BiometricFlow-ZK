# BiometricFlow-ZK Security Configuration Example
# Copy this file to .env and configure your settings

# =================================
# SECURITY CONFIGURATION
# =================================

# Main API Key for backend authentication (generate a secure random string)
MAIN_API_KEY=your_secure_api_key_here_32_chars_minimum

# Backend API Key for internal communication between services
BACKEND_API_KEY=your_backend_api_key_here_32_chars_minimum

# Frontend API Key for frontend-backend communication
FRONTEND_API_KEY=your_frontend_api_key_here_32_chars_minimum

# JWT Secret for token generation (generate a secure random string)
JWT_SECRET=your_jwt_secret_here_minimum_32_characters

# JWT Token expiration in hours
JWT_EXPIRE_HOURS=24

# =================================
# NGROK CONFIGURATION
# =================================

# Enable NGROK mode for enhanced NGROK security
NGROK_ENABLED=true

# NGROK URLs (comma-separated if multiple)
NGROK_URLS=https://weevil-destined-bedbug.ngrok-free.app/

# Single NGROK URL (for backward compatibility)
NGROK_URL=https://weevil-destined-bedbug.ngrok-free.app/

# NGROK Auth Token (optional)
NGROK_AUTH_TOKEN=your_ngrok_auth_token

# =================================
# CORS AND ORIGIN CONFIGURATION
# =================================

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=https://your-domain.com,https://weevil-destined-bedbug.ngrok-free.app

# Backend URL for frontend to connect to
BACKEND_URL=https://weevil-destined-bedbug.ngrok-free.app/

# Allowed backend URLs for frontend security
ALLOWED_BACKEND_URLS=https://weevil-destined-bedbug.ngrok-free.app/,http://localhost:9000

# =================================
# IP SECURITY CONFIGURATION
# =================================

# Allowed IP addresses/ranges (comma-separated, leave empty to allow all)
# Format: IP addresses, CIDR ranges, or 'localhost'
ALLOWED_IPS=127.0.0.1,::1,192.168.1.0/24

# =================================
# RATE LIMITING CONFIGURATION
# =================================

# Maximum requests per window
RATE_LIMIT_REQUESTS=60

# Rate limit window in seconds
RATE_LIMIT_WINDOW=60

# Maximum request size in bytes (5MB for NGROK)
MAX_REQUEST_SIZE=5242880

# =================================
# APPLICATION CONFIGURATION
# =================================

# Environment mode: development, production
ENVIRONMENT=production

# Session timeout in seconds (1 hour)
SESSION_TIMEOUT=3600

# Request timeout in seconds
REQUEST_TIMEOUT=30

# Allow requests without authentication in development mode
ALLOW_NO_AUTH=false

# =================================
# BACKEND CONFIGURATION
# =================================

# Backend name identifier
BACKEND_NAME=Place_1

# Backend port
BACKEND_PORT=8000

# Gateway port
GATEWAY_PORT=9000

# Device configuration file path
DEVICES_CONFIG_FILE=config/devices_config.json

# =================================
# SECURITY TIPS
# =================================

# 1. Generate secure API keys using: python -c "import secrets; print(secrets.token_urlsafe(32))"
# 2. Never commit this file with real credentials to version control
# 3. Use different API keys for each environment (dev, staging, production)
# 4. Rotate API keys regularly for security
# 5. Use HTTPS in production environments
# 6. Configure IP allowlists for additional security
# 7. Monitor security logs regularly
# 8. Keep rate limits reasonable for your use case

# Example secure API key generation commands:
# Main API Key: python -c "import secrets; print('MAIN_API_KEY=' + secrets.token_urlsafe(32))"
# Backend API Key: python -c "import secrets; print('BACKEND_API_KEY=' + secrets.token_urlsafe(32))"
# Frontend API Key: python -c "import secrets; print('FRONTEND_API_KEY=' + secrets.token_urlsafe(32))"
# JWT Secret: python -c "import secrets; print('JWT_SECRET=' + secrets.token_urlsafe(32))"
