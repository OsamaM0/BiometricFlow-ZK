# =================================================================
# BiometricFlow-ZK Docker Environment Configuration
# =================================================================
# Environment variables for Docker Compose deployment
# Copy this file to .env and customize values for your deployment

# =================================================================
# General Configuration
# =================================================================
COMPOSE_PROJECT_NAME=biometricflow-zk
ENVIRONMENT=production

# =================================================================
# Service Names and Ports
# =================================================================
PLACE_BACKEND_NAME=Place_1_Production
PLACE_BACKEND_PORT=8000
UNIFIED_GATEWAY_PORT=9000
FRONTEND_PORT=8501

# =================================================================
# Security Configuration
# =================================================================
# Rate limiting (requests per minute)
RATE_LIMIT_REQUESTS=50

# Session timeout (seconds)
SESSION_TIMEOUT=3600

# Auto refresh interval (seconds)
AUTO_REFRESH_INTERVAL=300

# =================================================================
# Domain Configuration (for production)
# =================================================================
FRONTEND_DOMAIN=localhost
GATEWAY_DOMAIN=localhost
BACKEND_DOMAIN=localhost

# =================================================================
# Data Persistence Paths
# =================================================================
# These paths will be created if they don't exist
PLACE_BACKEND_DATA_PATH=./data/place_backend
GATEWAY_DATA_PATH=./data/gateway
FRONTEND_DATA_PATH=./data/frontend
LOGS_PATH=./logs

# =================================================================
# Docker Build Configuration
# =================================================================
BUILD_DATE=2025-01-15
VERSION=3.1.0
VCS_REF=main

# =================================================================
# Resource Limits (Production)
# =================================================================
# Place Backend Resources
PLACE_BACKEND_CPU_LIMIT=1.0
PLACE_BACKEND_MEMORY_LIMIT=512M
PLACE_BACKEND_CPU_RESERVATION=0.5
PLACE_BACKEND_MEMORY_RESERVATION=256M

# Unified Gateway Resources
GATEWAY_CPU_LIMIT=1.5
GATEWAY_MEMORY_LIMIT=768M
GATEWAY_CPU_RESERVATION=0.7
GATEWAY_MEMORY_RESERVATION=384M

# Frontend Resources
FRONTEND_CPU_LIMIT=2.0
FRONTEND_MEMORY_LIMIT=1024M
FRONTEND_CPU_RESERVATION=1.0
FRONTEND_MEMORY_RESERVATION=512M

# =================================================================
# Network Configuration
# =================================================================
NETWORK_SUBNET=172.21.0.0/16
NETWORK_GATEWAY=172.21.0.1

# =================================================================
# Logging Configuration
# =================================================================
LOG_LEVEL=INFO
LOG_DRIVER=json-file
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3

# =================================================================
# Health Check Configuration
# =================================================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60s

# =================================================================
# SSL/TLS Configuration (for production with reverse proxy)
# =================================================================
SSL_ENABLED=false
SSL_CERT_PATH=./certs/cert.pem
SSL_KEY_PATH=./certs/key.pem

# =================================================================
# Backup Configuration
# =================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# =================================================================
# Monitoring Configuration
# =================================================================
MONITORING_ENABLED=false
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# =================================================================
# Development Overrides
# =================================================================
# Uncomment these for development environment
# ENVIRONMENT=development
# RATE_LIMIT_REQUESTS=1000
# LOG_LEVEL=DEBUG
